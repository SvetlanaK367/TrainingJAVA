package com.sviatlana.arrayWork.main;

import java.util.List;

import com.sviatlana.arrayWork.inputOutput.FileOutput;
import com.sviatlana.arrayWork.util.CustomException;
import com.sviatlana.arrayWork.util.SumArrayNumbers;

public class ArrayProcess {

	@SuppressWarnings("null")
	public static void process
		(List<List<String>> listOfLists, List<String> listOfNumerators, String fileOut, String fileWarning) throws CustomException {
		
		List<String> list = null;
		List<Integer> listInt = null;
		int numerator = 0;
		int index = 0;		
		int summaOfArray = 0;
		
		try {
			
			for(List<String> lineList : listOfLists)
	        {
				numerator = Integer.parseInt(listOfNumerators.get(index));
				
				System.out.print("index = " + index + ", numerator = " + numerator);
				
				if(numerator == 0) {
					FileOutput.report(fileWarning, "Numerator equals zero on the line: " + (index + 1));
					index++;
					continue;
				}
				
	            if(!lineList.isEmpty())
	            {
	                for(int i = 0; i <= lineList.size(); i++)
	                {
	                	System.out.println(", lineList = " + lineList.get(i) + ", size = " + lineList.size());
	                	list.add(lineList.get(i));
	                }
	            }
	            
	            if(list != null) {
		            listInt = SelectElementsByRule.multipleOfNumber(list, numerator);
		            summaOfArray = SumArrayNumbers.sumCalculation(listInt);
		            System.out.print("summaOfArray: " + summaOfArray + " for multiple of " + numerator + "(" + index + ")");
		            FileOutput.report(fileOut, "Summa = " + summaOfArray + " for multiple of " + numerator);
	            } else {
	            	FileOutput.report(fileWarning, "Array is empty on the line: " + (index + 1));
	            } 	   
	
	            index++;
	            
	        }
		} catch (RuntimeException  ex) {
			FileOutput.report(fileWarning, "ArrayProcess.RuntimeException: " + ex);
		}
	}
}

